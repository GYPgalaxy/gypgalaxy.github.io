
<!DOCTYPE html>
<html lang="cn">
    <head>
        <meta charset="utf-8" />
        <title>go面经 | 银飒沓流星</title>
        <meta name="author" content="高亚鹏" />
        <meta name="description" content="" />
        <meta name="keywords" content="golang,python,deep learning,nlp" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <link rel="icon" href="/images/avatar.jpg" />
        <script src="https://cdn.staticfile.org/vue/3.3.4/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.4.0/css/all.min.css" />
<link rel="stylesheet" href="/css/fonts.min.css" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://cdn.staticfile.org/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.org/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://cdn.staticfile.org/highlight.js/11.8.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://cdn.staticfile.org/KaTeX/0.16.8/katex.min.js"></script>
<script src="https://cdn.staticfile.org/KaTeX/0.16.8/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.16.8/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

    <meta name="generator" content="Hexo 6.3.0"></head>
    <body>
        <div id="layout">
            <transition name="fade">
                <div id="loading" v-show="loading">
                    <div id="loading-circle">
                        <h2>LOADING</h2>
                        <p>加载过慢请开启缓存 浏览器默认开启</p>
                        <img src="/images/loading.gif" />
                    </div>
                </div>
            </transition>
            <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>银飒沓流星</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;银飒沓流星</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

            <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
                <div class="article">
    <div>
        <h1>go面经</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/10/17
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/go/" style="color: #00a596">go</a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/%E9%9D%A2%E7%BB%8F/" style="color: #ffa2c4">面经</a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <h1 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h1><ul>
<li>&#x3D; 和 :&#x3D; 的区别？</li>
</ul>
<pre><code class="go">:= 声明+赋值
= 仅赋值

var foo int
foo = 10
// 等价于
foo := 10
</code></pre>
<ul>
<li>指针的作用</li>
</ul>
<pre><code class="go">指针用来保存变量的地址。

例如
var x =  5
var p *int = &amp;x
fmt.Printf(&quot;x = %d&quot;,  *p) // x 可以用 *p 访问

* 运算符，也称为解引用运算符，用于访问地址中的值。
＆运算符，也称为地址运算符，用于返回变量的地址。
</code></pre>
<ul>
<li>Go 有异常类型吗？</li>
</ul>
<pre><code class="go">Go 没有异常类型，只有错误类型（Error），通常使用返回值来表示异常状态。


f, err := os.Open(&quot;test.txt&quot;)
if err != nil &#123;
    log.Fatal(err)
&#125;
</code></pre>
<ul>
<li>什么是协程（Goroutine）</li>
</ul>
<pre><code class="go">Goroutine 是与其他函数或方法同时运行的函数或方法。
Goroutines 可以被认为是轻量级的线程。 
与线程相比，创建 Goroutine 的开销很小。 
Go应用程序同时运行数千个 Goroutine 是非常常见的做法。
</code></pre>
<ul>
<li>如何高效地拼接字符串</li>
</ul>
<pre><code class="go">Go 语言中，字符串是只读的，也就意味着每次修改操作都会创建一个新的字符串。
如果需要拼接多次，应使用 strings.Builder，最小化内存拷贝次数。

var str strings.Builder
for i := 0;i&lt;1000;i++&#123;
    str.WriteString(&quot;a&quot;)
&#125;
fmt.Println(str.String())
</code></pre>
<ul>
<li>什么是 rune 类型</li>
</ul>
<pre><code class="go">ASCII 码只需要 7 bit 就可以完整地表示，但只能表示英文字母在内的128个字符，为了表示世界上大部分的文字系统，发明了 Unicode， 它是ASCII的超集，包含世界上书写系统中存在的所有字符，并为每个代码分配一个标准编号（称为Unicode CodePoint），在 Go 语言中称之为 rune，是 int32 类型的别名。

Go 语言中，字符串的底层表示是 byte (8 bit) 序列，而非 rune (32 bit) 序列。例如下面的例子中 语 和 言 使用 UTF-8 编码后各占 3 个 byte，因此 len(&quot;Go语言&quot;) 等于 8，当然我们也可以将字符串转换为 rune 序列。


fmt.Println(len(&quot;Go语言&quot;)) // 8
fmt.Println(len([]rune(&quot;Go语言&quot;))) // 4
</code></pre>
<ul>
<li>如何判断 map 中是否包含某个 key ？</li>
</ul>
<pre><code class="go">if val, ok := dict[&quot;foo&quot;]; ok &#123;
    //do something here
&#125;

dict[&quot;foo&quot;] 有 2 个返回值，val 和 ok，如果 ok 等于 true，则说明 dict 包含 key &quot;foo&quot;，val 将被赋予 &quot;foo&quot; 对应的值。
</code></pre>
<ul>
<li>Go 支持默认参数或可选参数吗？</li>
</ul>
<pre><code class="go">Go 语言不支持可选参数（python 支持），也不支持方法重载（java支持）。
</code></pre>
<ul>
<li>defer 的执行顺序</li>
</ul>
<pre><code class="go">- 多个 defer 语句，遵从后进先出(Last In First Out，LIFO)的原则，最后声明的 defer 语句，最先得到执行。
- defer 在 return 语句之后执行，但在函数退出之前，defer 可以修改返回值。


func test() int &#123;
    i := 0
    defer func() &#123;
        fmt.Println(&quot;defer1&quot;)
    &#125;()
    defer func() &#123;
        i += 1
        fmt.Println(&quot;defer2&quot;)
    &#125;()
    return i
&#125;

func main() &#123;
    fmt.Println(&quot;return&quot;, test())
&#125;
// defer2
// defer1
// return 0

这个例子中，可以看到 defer 的执行顺序：后进先出。但是返回值并没有被修改，这是由于 Go 的返回机制决定的，执行 return 语句后，Go 会创建一个临时变量保存返回值，因此，defer 语句修改了局部变量 i，并没有修改返回值。那如果是有名的返回值呢？


func test() (i int) &#123;
    i = 0
    defer func() &#123;
        i += 1
        fmt.Println(&quot;defer2&quot;)
    &#125;()
    return i
&#125;

func main() &#123;
    fmt.Println(&quot;return&quot;, test())
&#125;
// defer2
// return 1

这个例子中，返回值被修改了。对于有名返回值的函数，执行 return 语句时，并不会再创建临时变量保存，因此，defer 语句修改了 i，即对返回值产生了影响。
</code></pre>
<ul>
<li>如何交换 2 个变量的值？</li>
</ul>
<pre><code class="go">a,b := 1,2
a,b = b,a
</code></pre>
<ul>
<li>Go 语言 tag 的用处？</li>
</ul>
<pre><code class="go">tag 可以理解为 struct 字段的注解，可以用来定义字段的一个或多个属性。框架/工具可以通过反射获取到某个字段定义的属性，采取相应的处理方式。tag 丰富了代码的语义，增强了灵活性。

例如：
package main

import &quot;fmt&quot;
import &quot;encoding/json&quot;

type Stu struct &#123;
    Name string `json:&quot;stu_name&quot;`
    ID   string `json:&quot;stu_id&quot;`
    Age  int    `json:&quot;-&quot;`
&#125;

func main() &#123;
    buf, _ := json.Marshal(Stu&#123;&quot;Tom&quot;, &quot;t001&quot;, 18&#125;)
    fmt.Printf(&quot;%s\n&quot;, buf)
&#125;

这个例子使用 tag 定义了结构体字段与 json 字段的转换关系，Name -&gt; stu_name, ID -&gt; stu_id，忽略 Age 字段。很方便地实现了 Go 结构体与不同规范的 json 文本之间的转换。
</code></pre>
<ul>
<li>如何判断 2 个字符串切片（slice) 是相等的？</li>
</ul>
<pre><code class="go">go 语言中可以使用反射 reflect.DeepEqual(a, b) 判断 a、b 两个切片是否相等，但是通常不推荐这么做，使用反射非常影响性能。
通常采用的方式如下，遍历比较切片中的每一个元素（注意处理越界的情况）。

func StringSliceEqualBCE(a, b []string) bool &#123;
    if len(a) != len(b) &#123;
        return false
    &#125;

    if (a == nil) != (b == nil) &#123;
        return false
    &#125;

    b = b[:len(a)]
    for i, v := range a &#123;
        if v != b[i] &#123;
            return false
        &#125;
    &#125;

    return true
&#125;
</code></pre>
<ul>
<li>字符串打印时，%v 和 %+v 的区别</li>
</ul>
<pre><code class="go">%v 和 %+v 都可以用来打印 struct 的值，区别在于 %v 仅打印各个字段的值，%+v 还会打印各个字段的名称。

type Stu struct &#123;
    Name string
&#125;

func main() &#123;
    fmt.Printf(&quot;%v\n&quot;, Stu&#123;&quot;Tom&quot;&#125;) // &#123;Tom&#125;
    fmt.Printf(&quot;%+v\n&quot;, Stu&#123;&quot;Tom&quot;&#125;) // &#123;Name:Tom&#125;
&#125;

但如果结构体定义了 String() 方法，%v 和 %+v 都会调用 String() 覆盖默认值。
</code></pre>
<ul>
<li>Go 语言中如何表示枚举值(enums)？</li>
</ul>
<pre><code class="go">通常使用常量(const) 来表示枚举值。

type StuType int32

const (
    Type1 StuType = iota
    Type2
    Type3
    Type4
)

func main() &#123;
    fmt.Println(Type1, Type2, Type3, Type4) // 0, 1, 2, 3
&#125;
</code></pre>
<ul>
<li>空 struct{} 的用途</li>
</ul>
<pre><code class="go">使用空结构体 `struct&#123;&#125;` 可以节省内存，一般作为占位符使用，表明这里并不需要一个值。

比如使用 map 表示集合时，只关注 key，value 可以使用 struct&#123;&#125; 作为占位符。如果使用其他类型作为占位符，例如 int，bool，不仅浪费了内存，而且容易引起歧义。

type Set map[string]struct&#123;&#125;

func main() &#123;
    set := make(Set)

    for _, item := range []string&#123;&quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;&#125; &#123;
        set[item] = struct&#123;&#125;&#123;&#125;
    &#125;
    fmt.Println(len(set)) // 3
    if _, ok := set[&quot;A&quot;]; ok &#123;
        fmt.Println(&quot;A exists&quot;) // A exists
    &#125;
&#125;


再比如，使用信道(channel)控制并发时，我们只是需要一个信号，但并不需要传递值，这个时候，也可以使用 struct&#123;&#125; 代替。
func main() &#123;
    ch := make(chan struct&#123;&#125;, 1)
    go func() &#123;
        &lt;-ch
        // do something
    &#125;()
    ch &lt;- struct&#123;&#125;&#123;&#125;
    // ...
&#125;

再比如，声明只包含方法的结构体。
type Lamp struct&#123;&#125;

func (l Lamp) On() &#123;
        println(&quot;On&quot;)

&#125;
func (l Lamp) Off() &#123;
        println(&quot;Off&quot;)
&#125;
</code></pre>

    </div>
    
    
    
    
    
    
    
</div>

                <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2023 银飒沓流星
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;高亚鹏
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

            </div>
            
            <transition name="fade">
                <div id="preview" ref="preview" v-show="previewShow">
                    <img id="preview-content" ref="previewContent" />
                </div>
            </transition>
            
        </div>
        <script src="/js/main.js"></script>
        
        




        
    </body>
</html>
